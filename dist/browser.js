!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Events=t()}(this,function(){"use strict";function e(){this._events={},this.addListener=this.on,this.removeListener=this.off}return Object.defineProperty(e.prototype,"eventNames",{get:function(){return Object.keys(this._events)},enumerable:!0,configurable:!0}),e.prototype.listeners=function(e){var t=this._events[e];return t?t.slice():[]},e.prototype.listenerCount=function(e){var t=this._events[e];return t?t.length:0},e.prototype.on=function(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push(t),this},e.prototype.once=function(n,s){var r=this,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.apply(r,e),r.off(n,i)};return this.on(n,i),this},e.prototype.off=function(e,t){if(this._events[e]){var n=function(e,t){for(var n=[],s=0,r=e.length;s<r;s++){var i=e[s];t(i,s)&&n.push(i)}return n}(this._events[e],function(e){return e!==t});0<n.length?this._events[e]=n:delete this._events[e]}return this},e.prototype.removeAllListeners=function(e){var t=this;return e?this._events[e]&&delete this._events[e]:this.eventNames.forEach(function(e){return t.removeAllListeners(e)}),this},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._events[e])return!1;for(var s=this._events[e].length,r=0;r<s;r++)this._events[e][r].apply(null,t);return 0<s},e});
